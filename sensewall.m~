
while 1
    
    sensor_values = readsensor()
    front_sum = sum(sensor_values(3:4));
    left_sum = sum(sensor_values(1:3));
    right_sum = sum(sensor_values(4:6));
    back_sum = sum(sensor_values(7:8));
    
    wb_differential_wheels_set_speed(2, 2)
    wb_robot_step(64);
  
    % move forward until the distance from the front sensors is 1500
    while front_sum < 1000
        
        % display all distance sensors values
        sensor_values = readsensor()
        
        front_sum = sum(sensor_values(3:4));
        left_sum = sum(sensor_values(1:2));
        right_sum = sum(sensor_values(5:6));
        back_sum = sum(sensor_values(7:8));
        
        % forward
        wb_differential_wheels_set_speed(2, 2)
        wb_robot_step(64);
        pause(2);
        
    end
    
    % stop
    wb_differential_wheels_set_speed(0, 0)
    wb_robot_step(64);
        
    while front_sum > 100
        
        sensor_values = readsensor()
        
        front_sum = sum(sensor_values(3:4));
        left_sum = sum(sensor_values(1:2));
        right_sum = sum(sensor_values(5:6));
        back_sum = sum(sensor_values(7:8));
        
        if left_sum > 1000
                        
            wb_differential_wheels_set_speed(-2, 2)
            wb_robot_step(64);
            pause(.5)
        else
            wb_differential_wheels_set_speed(2, -2)
            wb_robot_step(64);
            pause(.5)
        end
    end        
end